
> pcg-dashboard-mcp@0.0.96 dev /home/spaceterminal/topos/PCG/GitHub/pcg-cc-mcp
> export FRONTEND_PORT=$(node scripts/setup-dev-environment.js frontend) && export BACKEND_PORT=$(node scripts/setup-dev-environment.js backend) && concurrently "npm run backend:dev:watch" "npm run frontend:dev"

[1] npm warn Unknown env config "verify-deps-before-run". This will stop working in the next major version of npm.
[0] npm warn Unknown env config "verify-deps-before-run". This will stop working in the next major version of npm.
[0] npm warn Unknown env config "npm-globalconfig". This will stop working in the next major version of npm.
[0] npm warn Unknown env config "_jsr-registry". This will stop working in the next major version of npm.
[1] npm warn Unknown env config "npm-globalconfig". This will stop working in the next major version of npm.
[1] npm warn Unknown env config "_jsr-registry". This will stop working in the next major version of npm.
[1] 
[1] > pcg-dashboard-mcp@0.0.96 frontend:dev
[1] > cd frontend && npm run dev -- --port ${FRONTEND_PORT:-3000} --host
[1] 
[0] 
[0] > pcg-dashboard-mcp@0.0.96 backend:dev:watch
[0] > SQLX_OFFLINE=1 DISABLE_WORKTREE_ORPHAN_CLEANUP=1 RUST_LOG=debug cargo watch --env DATABASE_URL=${DATABASE_URL:-sqlite://dev_assets/db.sqlite} -w crates -x 'run --bin server'
[0] 
[1] npm warn Unknown env config "verify-deps-before-run". This will stop working in the next major version of npm.
[1] npm warn Unknown env config "npm-globalconfig". This will stop working in the next major version of npm.
[1] npm warn Unknown env config "_jsr-registry". This will stop working in the next major version of npm.
[1] 
[1] > pcg-dashboard@0.0.55 dev
[1] > VITE_OPEN=${VITE_OPEN:-false} vite --port 3000 --host
[1] 
[0] [Running 'cargo run --bin server']
[1] Skipping Sentry Vite plugin (set DISABLE_SENTRY=false and provide SENTRY_* env vars to enable).
[1] 
[1]   VITE v5.4.21  ready in 426 ms
[1] 
[1]   âžœ  Local:   http://localhost:3000/
[1]   âžœ  Network: http://172.20.10.4:3000/
[0] warning: unused variable: `sender_address`
[0]    --> crates/services/src/services/aptos.rs:432:38
[0]     |
[0] 432 |     pub async fn estimate_gas(&self, sender_address: &str) -> Result<EstimateGasResponse> {
[0]     |                                      ^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_sender_address`
[0]     |
[0]     = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: `services` (lib) generated 1 warning
[0] warning: unused import: `ChatConfig`
[0]   --> crates/nora/src/brain/providers/anthropic.rs:10:5
[0]    |
[0] 10 |     ChatConfig, ChatMessage, ChatRequest, LLMProviderTrait, MessageRole, ProviderError,
[0]    |     ^^^^^^^^^^
[0]    |
[0]    = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: unused import: `ChatConfig`
[0]   --> crates/nora/src/brain/providers/openai.rs:10:5
[0]    |
[0] 10 |     ChatConfig, ChatMessage, ChatRequest, LLMProviderTrait, MessageRole, ProviderError,
[0]    |     ^^^^^^^^^^
[0] 
[0] warning: unused variable: `obj`
[0]    --> crates/nora/src/execution/engine.rs:721:40
[0]     |
[0] 721 |                     } else if let Some(obj) = output_for_event.as_object() {
[0]     |                                        ^^^ help: if this is intentional, prefix it with an underscore: `_obj`
[0]     |
[0]     = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: unused variable: `stage_index`
[0]    --> crates/nora/src/execution/engine.rs:993:9
[0]     |
[0] 993 |         stage_index: usize,
[0]     |         ^^^^^^^^^^^
[0]     |
[0] help: if this is intentional, prefix it with an underscore
[0]     |
[0] 993 |         _stage_index: usize,
    |         +
[0] help: you might have meant to pattern match on the similarly named constant `MAX_OUTPUT_LEN`
[0]     |
[0] 993 -         stage_index: usize,
[0] 993 +         execution::engine::ExecutionEngine::execute_stages::{closure#0}::MAX_OUTPUT_LEN: usize,
[0]     |
[0] 
[0] warning: unused variable: `pool`
[0]     --> crates/nora/src/execution/engine.rs:1017:18
[0]      |
[0] 1017 |         let Some(pool) = db else {
[0]      |                  ^^^^ help: if this is intentional, prefix it with an underscore: `_pool`
[0] 
[0] warning: unused variable: `error`
[0]     --> crates/nora/src/execution/engine.rs:1215:91
[0]      |
[0] 1215 |         let (project_id, tasks_count, artifact_count, current_stage, duration_ms, status, error, exec_result, agent_flow_id) = {
[0]      |                                                                                           ^^^^^ help: if this is intentional, prefix it with an underscore: `_error`
[0] 
[0] warning: field `inputs` is never read
[0]   --> crates/nora/src/execution/engine.rs:81:5
[0]    |
[0] 76 | struct ExecutionInstance {
[0]    |        ----------------- field in this struct
[0] ...
[0] 81 |     inputs: HashMap<String, serde_json::Value>,
[0]    |     ^^^^^^
[0]    |
[0]    = note: `ExecutionInstance` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: method `update_flow_status` is never used
[0]    --> crates/nora/src/execution/engine.rs:288:14
[0]     |
[0] 129 | impl ExecutionEngine {
[0]     | -------------------- method in this implementation
[0] ...
[0] 288 |     async fn update_flow_status(&self, agent_flow_id: Uuid, status: &str, phase: &str) {
[0]     |              ^^^^^^^^^^^^^^^^^^
[0] 
[0] warning: method `fetch_url` is never used
[0]    --> crates/nora/src/execution/research.rs:140:18
[0]     |
[0]  35 | impl ResearchTools {
[0]     | ------------------ method in this implementation
[0] ...
[0] 140 |     pub async fn fetch_url(&self, url: &str) -> Result<String, String> {
[0]     |                  ^^^^^^^^^
[0] 
[0] warning: function `html_to_text` is never used
[0]    --> crates/nora/src/execution/research.rs:523:4
[0]     |
[0] 523 | fn html_to_text(html: &str) -> String {
[0]     |    ^^^^^^^^^^^^
[0] 
[0] warning: `nora` (lib) generated 10 warnings (run `cargo fix --lib -p nora` to apply 3 suggestions)
[0] warning: unused import: `self`
[0]  --> crates/server/src/routes/cms/mod.rs:4:18
[0]   |
[0] 4 |     middleware::{self, Next, from_fn_with_state},
[0]   |                  ^^^^
[0]   |
[0]   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: unused import: `post`
[0]  --> crates/server/src/routes/cms/faq_items.rs:6:20
[0]   |
[0] 6 |     routing::{get, post, put},
[0]   |                    ^^^^
[0] 
[0] warning: unused import: `post`
[0]  --> crates/server/src/routes/cms/page_sections.rs:6:20
[0]   |
[0] 6 |     routing::{get, post},
[0]   |                    ^^^^
[0] 
[0] warning: unused import: `post`
[0]  --> crates/server/src/routes/cms/products.rs:6:20
[0]   |
[0] 6 |     routing::{get, post},
[0]   |                    ^^^^
[0] 
[0] warning: unused import: `Json`
[0]  --> crates/server/src/routes/cms/public.rs:2:5
[0]   |
[0] 2 |     Json, Router,
[0]   |     ^^^^
[0] 
[0] warning: unused imports: `delete` and `put`
[0]  --> crates/server/src/routes/cms/settings.rs:6:20
[0]   |
[0] 6 |     routing::{get, put, delete},
[0]   |                    ^^^  ^^^^^^
[0] 
[0] warning: variable does not need to be mutable
[0]    --> crates/server/src/routes/multiplayer.rs:286:9
[0]     |
[0] 286 |     let mut send_task = tokio::spawn(async move {
[0]     |         ----^^^^^^^^^
[0]     |         |
[0]     |         help: remove this `mut`
[0]     |
[0]     = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: function `build_context_string` is never used
[0]    --> crates/server/src/routes/agent_chat.rs:469:4
[0]     |
[0] 469 | fn build_context_string(
[0]     |    ^^^^^^^^^^^^^^^^^^^^
[0]     |
[0]     = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default
[0] 
[0] warning: `server` (lib) generated 8 warnings (run `cargo fix --lib -p server` to apply 7 suggestions)
[0]     Finished `dev` profile [unoptimized + debuginfo] target(s) in 1.09s
[0]      Running `target/debug/server`
[0] [2m2026-01-15T15:09:43.523483Z[0m [32m INFO[0m [2mutils::external_services[0m[2m:[0m [EXTERNAL] Ollama is already running on 127.0.0.1:11434
[0] [2m2026-01-15T15:09:43.527985Z[0m [32m INFO[0m [2mutils::external_services[0m[2m:[0m [EXTERNAL] ComfyUI not running, attempting to start...
[0] [2m2026-01-15T15:10:13.627170Z[0m [33m WARN[0m [2mutils::external_services[0m[2m:[0m [EXTERNAL] ComfyUI started but not responding after 30s
[0] [2m2026-01-15T15:10:13.627368Z[0m [33m WARN[0m [2mutils::external_services[0m[2m:[0m [EXTERNAL] Failed to start ComfyUI - image generation will not be available
[0] [2m2026-01-15T15:10:13.629229Z[0m [33m WARN[0m [2mutils::external_services[0m[2m:[0m [EXTERNAL] Missing services: ComfyUI
[0] [2m2026-01-15T15:10:13.629793Z[0m [33m WARN[0m [2mserver[0m[2m:[0m ComfyUI not available - Maci image generation will be disabled
[0] [2m2026-01-15T15:10:13.650645Z[0m [32m INFO[0m [2mexecutors::profile[0m[2m:[0m No user profiles.json found, using defaults only
[0] [2m2026-01-15T15:10:13.683686Z[0m [32m INFO[0m [2mlocal_deployment[0m[2m:[0m Starting orphaned image cleanup...
[0] [2m2026-01-15T15:10:13.685292Z[0m [34mDEBUG[0m [2mservices::services::image[0m[2m:[0m No orphaned images found during cleanup
[0] [2m2026-01-15T15:10:13.685321Z[0m [34mDEBUG[0m [2mlocal_deployment::container[0m[2m:[0m Orphan worktree cleanup is disabled via DISABLE_WORKTREE_ORPHAN_CLEANUP environment variable
[0] [2m2026-01-15T15:10:13.686510Z[0m [32m INFO[0m [2mlocal_deployment::container[0m[2m:[0m Starting periodic worktree cleanup...
[0] [2m2026-01-15T15:10:13.687681Z[0m [34mDEBUG[0m [2mlocal_deployment::container[0m[2m:[0m Checking 1 active worktrees for external deletion...
[0] [2m2026-01-15T15:10:13.696996Z[0m [34mDEBUG[0m [2mlocal_deployment::container[0m[2m:[0m No expired worktrees found
[0] [2m2026-01-15T15:10:13.724564Z[0m [34mDEBUG[0m [2mdeployment[0m[2m:[0m TOPOS_DIR not configured, skipping topos sync
[0] [2m2026-01-15T15:10:13.724680Z[0m [32m INFO[0m [2mservices::services::pr_monitor[0m[2m:[0m Starting PR monitoring service with interval 60s
[0] [2m2026-01-15T15:10:13.726512Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:10:13.731000Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Nora' already registered (ID: b2c1f215-20df-4a19-8fa5-53ee37c60bd6)
[0] [2m2026-01-15T15:10:13.732013Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Maci' already registered (ID: f2ff995b-4749-47b3-a59b-ea5c44b70b47)
[0] [2m2026-01-15T15:10:13.732327Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Editron' already registered (ID: 5ec9dca1-5ca7-49c8-bb1c-c17d099e866f)
[0] [2m2026-01-15T15:10:13.732556Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Genesis' already registered (ID: ebfa7937-a52a-4706-831a-a33f41d7389c)
[0] [2m2026-01-15T15:10:13.732880Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Astra' already registered (ID: 08ffa7fb-338a-4b85-b19d-3427265010e6)
[0] [2m2026-01-15T15:10:13.733156Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Scout' already registered (ID: 1a724df8-52c7-413f-a2cf-9ad78484c7d8)
[0] [2m2026-01-15T15:10:13.733373Z[0m [32m INFO[0m [2mservices::services::agent_registry[0m[2m:[0m Agent 'Auri' already registered (ID: 2f3f03fa-ab9a-48ec-8f85-21e3b7f6c549)
[0] [2m2026-01-15T15:10:13.734687Z[0m [32m INFO[0m [2mserver[0m[2m:[0m Agent registry initialized with 7 agents: Nora, Maci, Editron, Genesis, Astra, Scout, Auri
[0] [2m2026-01-15T15:10:13.735123Z[0m [32m INFO[0m [2mserver::routes::nora[0m[2m:[0m Auto-initializing Nora executive assistant on server startup
[0] [2m2026-01-15T15:10:13.741297Z[0m [33m WARN[0m [2mserver::routes::nora[0m[2m:[0m Failed to parse persisted voice config, using default: missing field `tts` at line 1 column 2
[0] [2m2026-01-15T15:10:13.744196Z[0m [32m INFO[0m [2mserver::routes::nora[0m[2m:[0m Initializing CinematicsService with ComfyUI at http://127.0.0.1:8188
[0] [2m2026-01-15T15:10:13.763012Z[0m [32m INFO[0m [2mnora[0m[2m:[0m Initializing Nora Executive Assistant...
[0] [2m2026-01-15T15:10:13.763642Z[0m [32m INFO[0m [2mnora::agent[0m[2m:[0m Initializing Nora agent with ID: acdea62b-6b46-47a5-990d-8a1a017d26c1
[0] [2m2026-01-15T15:10:13.764090Z[0m [32m INFO[0m [2mnora::voice::engine[0m[2m:[0m Initializing Nora voice engine...
[0] [2m2026-01-15T15:10:13.764295Z[0m [32m INFO[0m [2mnora::voice::engine[0m[2m:[0m Creating OpenAI TTS provider
[0] [2m2026-01-15T15:10:13.780327Z[0m [32m INFO[0m [2mnora::voice::engine[0m[2m:[0m Creating Whisper STT provider with OpenAI API key
[0] [2m2026-01-15T15:10:13.780531Z[0m [32m INFO[0m [2mnora::voice::stt[0m[2m:[0m Initializing Whisper STT with model: medium
[0] [2m2026-01-15T15:10:13.794759Z[0m [32m INFO[0m [2mnora::voice::engine[0m[2m:[0m Voice engine initialized successfully
[0] [2m2026-01-15T15:10:13.812282Z[0m [32m INFO[0m [2mnora::brain[0m[2m:[0m LLMClient initialized with OpenAI API key
[0] [2m2026-01-15T15:10:13.812707Z[0m [32m INFO[0m [2mnora::brain[0m[2m:[0m LLMClient has Ollama fallback configured: Some("gpt-oss:20b")
[0] [2m2026-01-15T15:10:13.827502Z[0m [32m INFO[0m [2mnora[0m[2m:[0m Nora initialized successfully
[0] [2m2026-01-15T15:10:13.828775Z[0m [32m INFO[0m [2mnora::execution::engine[0m[2m:[0m [EXECUTION_ENGINE] Cinematics service configured for image/video generation
[0] [2m2026-01-15T15:10:13.828811Z[0m [32m INFO[0m [2mnora::agent[0m[2m:[0m [NORA] CinematicsService wired to ExecutionEngine for image/video generation
[0] [2m2026-01-15T15:10:13.830001Z[0m [32m INFO[0m [2mnora::agent[0m[2m:[0m [NORA_WORKFLOW_MONITOR] Starting workflow execution monitor
[0] [2m2026-01-15T15:10:13.830251Z[0m [32m INFO[0m [2mnora::execution::engine[0m[2m:[0m [EXECUTION_ENGINE] Database pool configured for workflow persistence
[0] [2m2026-01-15T15:10:13.830284Z[0m [32m INFO[0m [2mnora::agent[0m[2m:[0m [NORA] TaskCreator and database wired to ExecutionEngine for workflow task creation and log persistence
[0] [2m2026-01-15T15:10:13.830628Z[0m [32m INFO[0m [2mnora::agent[0m[2m:[0m Nora activated
[0] [2m2026-01-15T15:10:13.832768Z[0m [32m INFO[0m [2mserver::routes::nora[0m[2m:[0m Nora auto-initialized successfully with ID: acdea62b-6b46-47a5-990d-8a1a017d26c1
[0] [2m2026-01-15T15:10:13.833133Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m Starting file search cache warming...
[0] [2m2026-01-15T15:10:13.834628Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m Warming cache for 1 projects: ["/home/spaceterminal/topos/Prime"]
[0] [2m2026-01-15T15:10:13.836951Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m Setup file watcher for repo: "/home/spaceterminal/topos/Prime"
[0] [2m2026-01-15T15:10:13.837013Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m File search cache warming completed
[0] [2m2026-01-15T15:10:13.837019Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m Building cache for repo: "/home/spaceterminal/topos/Prime"
[0] [2m2026-01-15T15:10:13.870288Z[0m [34mDEBUG[0m [2mutils::port_file[0m[2m:[0m Writing port 3001 to "/tmp/duck-kanban/duck-kanban.port"
[0] [2m2026-01-15T15:10:13.870591Z[0m [32m INFO[0m [2mserver[0m[2m:[0m Server running on http://127.0.0.1:3001
[0] [2m2026-01-15T15:10:13.890779Z[0m [32m INFO[0m [2mservices::services::file_search_cache[0m[2m:[0m Successfully cached repo: "/home/spaceterminal/topos/Prime"
[0] [2m2026-01-15T15:11:13.728954Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:12:13.733606Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:13:13.726760Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[1] 8:13:39 AM [vite] hmr update /src/components/layout/sidebar.tsx, /src/styles/index.css
[0] [2m2026-01-15T15:14:13.740391Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:15:13.727285Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:16:13.727909Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:17:13.726922Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
[0] [2m2026-01-15T15:18:13.727541Z[0m [34mDEBUG[0m [2mservices::services::pr_monitor[0m[2m:[0m No open PRs to check
