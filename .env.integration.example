# External API Integration Configuration
# Copy this to .env and fill in your credentials

# ==============================================================================
# SMTP Email Configuration
# ==============================================================================
# Required for SendEmail tool to actually send emails via SMTP

# SMTP server hostname (e.g., smtp.gmail.com, smtp.office365.com, smtp.sendgrid.net)
SMTP_HOST=smtp.gmail.com

# SMTP server port (typically 587 for TLS, 465 for SSL, 25 for non-encrypted)
SMTP_PORT=587

# SMTP authentication username (usually your email address)
SMTP_USERNAME=your-email@example.com

# SMTP authentication password or app-specific password
# For Gmail: Use App Password from https://myaccount.google.com/apppasswords
# For Office 365: Use regular password or app password
SMTP_PASSWORD=your-app-password-here

# From email address (must be authorized by your SMTP server)
SMTP_FROM_EMAIL=your-email@example.com

# From name displayed in emails
SMTP_FROM_NAME=Nora AI Assistant

# Use TLS encryption (true recommended for security)
SMTP_USE_TLS=true

# ==============================================================================
# Discord Webhook Configuration
# ==============================================================================
# Required for SendDiscordMessage tool to post messages to Discord channels

# Discord webhook URL (create one in Server Settings > Integrations > Webhooks)
# Example: https://discord.com/api/webhooks/123456789/AbCdEfGhIjKlMnOpQrStUvWxYz
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# ==============================================================================
# Google Calendar API Configuration
# ==============================================================================
# Required for CreateCalendarEvent, FindAvailableSlots, CheckCalendarAvailability tools

# Path to Google Cloud service account credentials JSON file
# Create one at: https://console.cloud.google.com/iam-admin/serviceaccounts
# Download the JSON key and place it in a secure location
GOOGLE_CALENDAR_CREDENTIALS=./credentials/google-service-account.json

# Calendar ID to use (use "primary" for the main calendar, or specific calendar ID)
# Find calendar ID in Google Calendar settings > Settings for my calendars > Calendar ID
GOOGLE_CALENDAR_ID=primary

# ==============================================================================
# Setup Instructions
# ==============================================================================

# 1. SMTP Email Setup:
#    - Gmail: Enable 2FA, then create App Password at https://myaccount.google.com/apppasswords
#    - Office 365: May require enabling "Less secure app access" or creating app password
#    - SendGrid/Other: Use API key as password with username "apikey"

# 2. Discord Webhook Setup:
#    - Open Discord server settings
#    - Go to Integrations > Webhooks
#    - Click "New Webhook"
#    - Choose channel, name it "Nora AI", copy URL
#    - Paste URL into DISCORD_WEBHOOK_URL above

# 3. Google Calendar Setup:
#    - Go to https://console.cloud.google.com/
#    - Create new project or select existing one
#    - Enable Google Calendar API
#    - Create service account: IAM & Admin > Service Accounts > Create
#    - Create key (JSON format), download and save securely
#    - Share your Google Calendar with the service account email
#    - Set path in GOOGLE_CALENDAR_CREDENTIALS above

# ==============================================================================
# Testing
# ==============================================================================

# Test SMTP:
# curl -X POST http://localhost:8080/api/nora/tools/execute \
#   -H "Content-Type: application/json" \
#   -d '{
#     "tool": {
#       "SendEmail": {
#         "recipients": ["test@example.com"],
#         "subject": "Test Email",
#         "body": "This is a test from Nora",
#         "priority": "Normal"
#       }
#     }
#   }'

# Test Discord:
# curl -X POST http://localhost:8080/api/nora/tools/execute \
#   -H "Content-Type: application/json" \
#   -d '{
#     "tool": {
#       "SendDiscordMessage": {
#         "channel": "#general",
#         "message": "Hello from Nora!",
#         "mention_users": []
#       }
#     }
#   }'

# Test Calendar:
# curl -X POST http://localhost:8080/api/nora/tools/execute \
#   -H "Content-Type: application/json" \
#   -d '{
#     "tool": {
#       "CreateCalendarEvent": {
#         "title": "Test Meeting",
#         "start_time": "2025-11-21T10:00:00Z",
#         "end_time": "2025-11-21T11:00:00Z",
#         "attendees": ["colleague@example.com"],
#         "location": "Conference Room A"
#       }
#     }
#   }'
